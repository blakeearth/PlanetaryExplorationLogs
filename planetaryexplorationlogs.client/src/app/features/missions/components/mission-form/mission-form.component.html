<form *ngIf="!newMission && mission" [formGroup]="missionForm" (ngSubmit)="onSubmit()">
  <div class="header">
    <input formControlName="name" (blur)="onUpdate()"/>
    <div *ngIf="missionForm.get('name')?.invalid && missionForm.get('name')?.touched">
      <p *ngIf="missionForm.get('name')?.errors?.['required']">Name is required.</p>
    </div>
    <input type="date" formControlName="date" (blur)="onUpdate()" />
    <div *ngIf="missionForm.get('date')?.invalid && missionForm.get('date')?.touched">
      <p *ngIf="missionForm.get('date')?.errors?.['required']">Date is required.</p>
    </div>
  </div>

  <div>
    <label for="description">Mission Description:</label>
    <textarea id="description" formControlName="description" (blur)="onUpdate()"></textarea>
    <div *ngIf="missionForm.get('description')?.invalid && missionForm.get('description')?.touched">
      <p *ngIf="missionForm.get('description')?.errors?.['required']">Description is required.</p>
    </div>
  </div>

  <div *ngIf="mission?.id">
    <button (click)="onDelete($event)">🗑️</button>
  </div>

  <div *ngIf="!mission?.id">
    <button (click)="onCancel($event)">Cancel</button>
    <button>Submit</button>
  </div>
</form>
